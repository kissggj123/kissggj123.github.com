<!DOCTYPE html>
<html lang="zh-CN" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ê™îÊ°àÔºöBunny CC v11.1 [AEGIS_REFORGED]</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Noto+Sans+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --glow-rgb: 236, 72, 153; /* Sailor Moon Pink */
            --accent-rgb: 251, 191, 36; /* Sailor Moon Yellow */
            --bg-color: #0c0a1d; /* Deep Space Blue */
            --text-color: #e6edf3; --text-color-rgb: 230, 237, 243; --text-muted-color: #8b949e;
            --mouse-x: 50%; --mouse-y: 50%;
        }
        body { font-family: 'Noto Sans SC', sans-serif; font-size: 14px; background-color: var(--bg-color); color: var(--text-color); overflow: hidden; opacity: 0; animation: fadeIn 1s ease forwards; cursor: none; position: relative; z-index: 0; }
        body.font-pixel { font-family: 'Press Start 2P', 'Noto Sans SC', sans-serif; font-size: 12px; }
        body.font-pixel .lcars-button, body.font-pixel .accent-text, body.font-pixel .glow-text, body.font-pixel h1, body.font-pixel h2, body.font-pixel #theme-page-title, body.font-pixel .modal-container h2 { letter-spacing: 1px; }

        #singularity-background { position: fixed; inset: 0; z-index: -5; background: #0c0a1d; }
        #circuitry-background { position: fixed; inset: 0; z-index: -4; background-image: linear-gradient(rgba(var(--glow-rgb), 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(var(--glow-rgb), 0.03) 1px, transparent 1px); background-size: 25px 25px; animation: hue-cycle 30s linear infinite; }
        @keyframes hue-cycle { from { filter: hue-rotate(0deg); } to { filter: hue-rotate(360deg); } }
        body::before { content: ''; position: fixed; inset: 0; z-index: -3; background-image: linear-gradient(rgba(var(--glow-rgb), 0.08) 1px, transparent 1px), linear-gradient(to right, rgba(var(--glow-rgb), 0.08) 1px, transparent 1px); background-size: 75px 75px; animation: grid-scroll 15s linear infinite; opacity: 0.7; }
        @keyframes grid-scroll { from { background-position: 0 0; } to { background-position: 75px 150px; } }
        body::after { content: ''; position: fixed; inset: 0; z-index: -2; background: radial-gradient(800px at var(--mouse-x) var(--mouse-y), rgba(var(--glow-rgb), 0.18), transparent 80%); pointer-events: none; }
        
        .effect-canvas { position: fixed; inset: 0; pointer-events: none; }
        #vfx-canvas { z-index: -1; }
        #bunny-trail-canvas { z-index: 9998; }

        .pixel-entity { position: fixed; width: 32px; height: 32px; background-size: contain; pointer-events: none; transform: translate(-50%, -50%); transition: filter 0.5s, opacity 0.5s; will-change: transform, left, top; }
        #mouse-bunny { z-index: 9999; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3 4h1v1h1v1h4v-1h1v-1h1v3h1v1h-1v1h-1v1h-1v1h-2v-1h-1v-1h-1v-1h-1v-1h-1v-2z' fill='rgb(var(--glow-rgb))'/%3E%3Cpath d='M7 6h1v1h-1z' fill='%23000'/%3E%3Cpath d='M4 4h1v1h-1zM10 4h1v1h-1zM5 6h1v1h-1z' fill='rgb(var(--accent-rgb))'/%3E%3C/svg%3E"); filter: drop-shadow(0 0 8px rgba(var(--glow-rgb), 0.8)); }
        #pet-bunny { z-index: 2; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23FFD700' d='M5 5H6V6H5z M9 5H10V6H9z'/%3E%3Cpath fill='%23FFFFFF' d='M3 7h1v1h1v1h1v1h2v-1h1v-1h1v-1h1v2h-1v1h-1v1h-1v1h-2v-1H6V9H5V8H4V7H3z'/%3E%3Cpath fill='%23FF69B4' d='M4,6 L5,6 L5,7 L4,7 Z M10,6 L11,6 L11,7 L10,7 Z'/%3E%3Cpath fill='%2300BFFF' d='M6 6h1v1H6zm2 0h1v1H8z'/%3E%3Cpath fill='%2332CD32' d='M4 4h2v1H4zm7 0h2v1h-2z'/%3E%3C/svg%3E"); filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.5)); opacity: 0.9; cursor: pointer !important; pointer-events: auto !important; transition: transform 0.3s ease-out, filter 0.5s ease; }
        #pet-bunny.sad { filter: drop-shadow(0 0 8px rgba(128, 128, 128, 0.5)) grayscale(80%); opacity: 0.7; }
        
        .heart-particle { position: fixed; font-size: 24px; color: #ff69b4; pointer-events: none; animation: heart-float 1.5s ease-out forwards; }
        @keyframes heart-float { to { transform: translateY(-100px); opacity: 0; } }
        
        .lcars-container { display: flex; height: 100vh; padding: 1rem; gap: 1rem; position: relative; z-index: 10; }
        .lcars-sidebar { width: 150px; display: flex; flex-direction: column; gap: 1rem; flex-shrink: 0; }
        .lcars-main { flex-grow: 1; display: flex; flex-direction: column; gap: 1rem; min-width: 0; }
        .lcars-element { background: rgb(var(--glow-rgb)); transition: all 0.3s ease; }
        .lcars-elbow { width: 100%; height: 60px; background: rgb(var(--glow-rgb)); border-top-left-radius: 30px; border-bottom-left-radius: 30px; }
        .lcars-content-panel { flex-grow: 1; background: rgba(8, 8, 8, 0.8); backdrop-filter: blur(2px); border: 2px solid rgb(var(--glow-rgb)); padding: 1.5rem; display: flex; flex-direction: column; gap: 1.5rem; overflow-y: auto; min-height: 0; animation: border-glow-in 2s ease-out forwards; }
        .lcars-button { background: #080808; border: 2px solid rgb(var(--accent-rgb)); color: rgb(var(--accent-rgb)); text-shadow: 0 0 8px rgba(var(--accent-rgb), 0.8); transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .lcars-button:hover, .tamagotchi-button:hover { background: rgb(var(--accent-rgb)); color: #000; box-shadow: 0 0 15px rgba(var(--accent-rgb), 0.7); }
        
        .modal-overlay { display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); transition: opacity 0.3s ease; }
        .modal-container { background: #080808; border: 2px solid rgb(var(--glow-rgb)); box-shadow: 0 0 30px rgba(var(--glow-rgb), 0.5); transition: transform 0.3s ease; }
        .modal-overlay.hidden { pointer-events: none; }
        .modal-overlay.hidden .modal-container { transform: scale(0.95); }
        
        #pet-status-panel { padding: 1rem; border-bottom: 1px solid rgba(var(--glow-rgb), 0.2); }
        .status-bar-container { background: #222; border-radius: 1rem; overflow: hidden; border: 1px solid #333; }
        .status-bar-fill { height: 1.25rem; border-radius: 1rem; transition: width 0.5s ease; text-align: right; padding-right: 0.5rem; color: black; font-weight: bold; }
        #ai-screen { height: 80px; background-color: #111; border: 1px solid rgba(var(--glow-rgb), 0.2); border-radius: 0.5rem; padding: 1rem; display: flex; align-items: center; justify-content: center; text-align: center; white-space: pre-wrap; }
        .tamagotchi-button { width: 48px; height: 48px; border-radius: 50%; background: #222; border: 2px solid rgb(var(--accent-rgb)); color: rgb(var(--accent-rgb)); transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; }

        .ui-module { opacity: 0; transform: translateY(20px) scale(0.98); animation: module-boot 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes module-boot { to { opacity: 1; transform: translateY(0) scale(1); } }
        @keyframes border-glow-in { from { box-shadow: 0 0 0px rgba(var(--glow-rgb), 0); } to { box-shadow: 0 0 20px rgba(var(--glow-rgb), 0.3); } }
        #avatar-container { position: relative; cursor: pointer; }
        #profile-pic { transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55), filter 0.5s, opacity 0.5s; }
        #avatar-container.charging #profile-pic { transform: scale(1.1) translateY(-10px); filter: drop-shadow(0 0 20px white) brightness(1.5); }
        #avatar-container.transforming #profile-pic { animation: transform-fly-in 0.8s cubic-bezier(0.45, 0.05, 0.55, 0.95) forwards; }
        #magic-circle { position: absolute; inset: -20%; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='glow'%3E%3CfeGaussianBlur stdDeviation='2.5' result='coloredBlur'/%3E%3CfeMerge%3E%3CfeMergeNode in='coloredBlur'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3C/defs%3E%3Cpath d='M50,10 A40,40 0 0,1 90,50 A20,20 0 0,0 70,50 A40,40 0 0,1 50,90 A20,20 0 0,0 50,70 A40,40 0 0,1 10,50 A20,20 0 0,0 30,50 A40,40 0 0,1 50,10 A20,20 0 0,0 50,30Z' fill='none' stroke='rgb(var(--accent-rgb))' stroke-width='1.5' filter='url(%23glow)'/%3E%3Ccircle cx='50' cy='50' r='45' fill='none' stroke='rgb(var(--glow-rgb))' stroke-width='0.5'/%3E%3Cpath d='M50,2 C65,15 80,35 98,50 C80,65 65,85 50,98 C35,85 20,65 2,50 C20,35 35,15 50,2Z' fill='rgba(var(--glow-rgb), 0.1)'/%3E%3C/svg%3E"); background-size: contain; background-repeat: no-repeat; background-position: center; opacity: 0; transform: scale(0.8); transition: opacity 0.5s, transform 0.5s; pointer-events: none; }
        #avatar-container.charging #magic-circle { opacity: 1; transform: scale(1); }
        #avatar-container.transforming #magic-circle { animation: magic-circle-spin 0.8s ease-in-out forwards; }
        .crystal-bunny, .final-carrot { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%) scale(0); width: 60px; height: 60px; opacity: 0; pointer-events: none; }
        #avatar-container.transformed .crystal-bunny { animation: item-appear 0.5s 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        #avatar-container.carrot-summoned .final-carrot { animation: item-appear 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        .crystal-bunny.leaving { animation: item-leave 0.5s cubic-bezier(0.55, 0.06, 0.68, 0.19) forwards; }
        @keyframes transform-fly-in { from { opacity:1; transform: scale(1.1) translateY(-10px); } to { opacity:0; transform: scale(0.2) translateY(0) rotate(360deg); } }
        @keyframes magic-circle-spin { 0% { opacity:1; transform: scale(1) rotate(0deg); } 80% { opacity:1; transform: scale(1.3) rotate(720deg); filter: brightness(2); } 100% { opacity:0; transform: scale(0.5) rotate(720deg); } }
        @keyframes item-appear { to { opacity:1; transform: translate(-50%,-50%) scale(1); } }
        @keyframes item-leave { to { opacity:0; transform: translate(-50%, -150%) scale(0.5) rotate(90deg); } }
        #sand-particles .sand-particle { position: absolute; width: 4px; height: 4px; background-color: rgb(var(--accent-rgb)); border-radius: 50%; animation: sand-implode 2s ease-in-out forwards; box-shadow: 0 0 8px rgba(var(--accent-rgb), 0.8); }
        @keyframes sand-implode { from { opacity: 1; transform: rotate(0deg) scale(1); } to { top: 50%; left: 50%; width: 0; height: 0; opacity: 0; transform: rotate(720deg) scale(0); } }
        .record-scrollbar::-webkit-scrollbar { width: 8px; }
        .record-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .record-scrollbar::-webkit-scrollbar-thumb { background: rgba(var(--glow-rgb), 0.5); border-radius: 4px; }
    </style>
</head>
<body>
    <div id="singularity-background"></div>
    <div id="circuitry-background"></div>
    <canvas id="vfx-canvas" class="effect-canvas"></canvas>
    <canvas id="bunny-trail-canvas" class="effect-canvas"></canvas>
    <div id="mouse-bunny" class="pixel-entity"></div>
    <div id="pet-bunny" class="pixel-entity"></div>

    <div class="lcars-container">
        <!-- LCARS Sidebar and Main Content -->
        <div class="lcars-sidebar">
            <div class="lcars-elbow"></div>
            <div class="flex-grow flex flex-col justify-end gap-4">
                <button class="lcars-button p-2 rounded-r-full text-xs" onclick="toggleModal('changelog-modal')">LOGS</button>
                <button class="lcars-button p-2 rounded-r-full text-xs" onclick="toggleModal('theme-modal')">THEME</button>
                <button class="lcars-button p-2 rounded-r-full text-xs" onclick="toggleFullscreen()">FSCRN</button>
                <button class="lcars-button p-2 rounded-r-full text-xs" onclick="toggleModal('performance-modal')">PERF</button>
                <button class="lcars-button p-2 rounded-r-full text-xs" onclick="toggleModal('pet-ai-modal')">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v1.168a1 1 0 01.1.332A6.98 6.98 0 0115.5 11a1 1 0 01-1 1h-1.586a1 1 0 01-.707-.293l-1.1-1.1a1 1 0 00-1.414 0l-1.1 1.1A1 1 0 018.086 12H6.5a1 1 0 01-1-1 6.98 6.98 0 014.4-5.5A1 1 0 0110 4.5V4a1 1 0 010-1zM4.5 9a1 1 0 100-2 1 1 0 000 2zM15.5 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /><path d="M10 13.5a1 1 0 011 1v1.5a1 1 0 01-2 0V14.5a1 1 0 011-1z" /></svg>
                    <span>AI & CARE</span>
                </button>
            </div>
        </div>
        <div class="lcars-main">
            <div class="h-16 flex justify-between items-center flex-shrink-0">
                <div class="flex items-center">
                    <div class="lcars-element w-24 h-16 rounded-l-full"></div>
                    <div class="ml-4"><p class="text-xl sm:text-2xl font-bold tracking-wider glow-text">BCC_SYS_v11.1</p><p class="accent-text text-sm">AEGIS_REFORGED</p></div>
                </div>
            </div>
            <div class="lcars-content-panel record-scrollbar">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1 flex flex-col space-y-6">
                        <div class="ui-module text-center">
                            <div id="avatar-container" class="w-40 h-40 mx-auto">
                                <img id="profile-pic" class="w-full h-full rounded-full object-cover p-1 border-2" style="border-color:rgb(var(--glow-rgb));">
                                <div id="magic-circle"></div>
                                <div id="fx-container">
                                    <div class="crystal-bunny"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><g filter="url(#glow)"><path d="M50 20 C 25 20, 25 60, 50 60 C 75 60, 75 20, 50 20 Z" fill="rgba(255,255,255,0.8)"/><path d="M50 55 C 40 70, 60 70, 50 55" fill="none" stroke="white" stroke-width="4"/><path d="M35 15 Q 30 0, 40 5" stroke="white" stroke-width="4" fill="none" stroke-linecap="round"/><path d="M65 15 Q 70 0, 60 5" stroke="white" stroke-width="4" fill="none" stroke-linecap="round"/><path d="M50 35 C 40 45, 60 45, 50 35" fill="rgb(var(--glow-rgb))"/><path d="M42 45 h16 v5 h-16 z" fill="rgb(var(--accent-rgb))"/></g></svg></div>
                                    <div class="final-carrot"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="carrot-gradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#fdba74;"/><stop offset="100%" style="stop-color:#f97316;"/></linearGradient><linearGradient id="leaves-gradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#4ade80;"/><stop offset="100%" style="stop-color:#16a34a;"/></linearGradient></defs><path d="M65,35 C75,20 80,15 75,5 C70,-5 60,0 55,10 L50,15 L45,10 C40,0 30,-5 25,5 C20,15 25,20 35,35 L40,40 C30,50 25,60 35,70 L50,95 L65,70 C75,60 70,50 60,40 Z" fill="url(#leaves-gradient)"/><path d="M50,45 C65,55 75,70 65,85 C55,100 45,100 35,85 C25,70 35,55 50,45 Z" fill="url(#carrot-gradient)"/><path d="M50,45 C55,55 58,65 50,80 C42,65 45,55 50,45" fill="#fb923c" opacity="0.5"/></svg></div>
                                    <div id="sand-particles"></div>
                                </div>
                            </div>
                            <h1 class="text-2xl font-bold mt-4 glow-text">BUNNY CC</h1>
                        </div>
                        <div class="ui-module"><h2 class="text-lg font-bold pb-2 mb-4 accent-text" style="border-bottom: 1px solid rgba(var(--accent-rgb), 0.3)">MILESTONES</h2><div id="timing" class="space-y-3" style="color: var(--text-muted-color)"></div></div>
                    </div>
                    <div class="md:col-span-2 flex flex-col space-y-6">
                        <div class="ui-module"><h2 class="text-lg font-bold pb-2 mb-4 accent-text" style="border-bottom: 1px solid rgba(var(--accent-rgb), 0.3)">WEIGHT_GRID</h2><div class="h-64 chart-container"><canvas id="weightChart"></canvas></div><div id="weight-change-info" class="mt-4 text-center p-3 rounded-lg h-12 flex items-center justify-center" style="background-color: rgba(var(--glow-rgb), 0.05); border: 1px solid rgba(var(--glow-rgb), 0.2); transition: all 0.3s ease;"></div></div>
                        <div class="ui-module flex-grow flex flex-col"><h2 class="text-lg font-bold pb-2 mb-4 accent-text" style="border-bottom: 1px solid rgba(var(--accent-rgb), 0.3)">DATA_STREAM</h2><div id="all-records-container" class="record-scrollbar flex-grow pr-2 space-y-3"></div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modals -->
    <div id="changelog-modal" class="modal-overlay fixed inset-0 z-[200] hidden items-center justify-center opacity-0" onclick="toggleModal('changelog-modal')"><div class="modal-container w-11/12 max-w-4xl max-h-[80vh] flex flex-col" onclick="event.stopPropagation()"><h2 class="text-xl p-4 glow-text border-b" style="border-color:rgba(var(--glow-rgb), 0.3)">CHANGELOG</h2><div id="changelog-content" class="p-6 overflow-y-auto record-scrollbar"></div></div></div>
    <div id="theme-modal" class="modal-overlay fixed inset-0 z-[200] hidden items-center justify-center opacity-0" onclick="toggleModal('theme-modal')"><div class="modal-container w-11/12 max-w-md" onclick="event.stopPropagation()"><div class="p-4 flex justify-between items-center border-b" style="border-color:rgba(var(--glow-rgb), 0.3)"><button id="prev-theme-page" class="text-2xl glow-text"><</button><h2 id="theme-page-title" class="text-xl glow-text">COLOR_CYCLE</h2><button id="next-theme-page" class="text-2xl glow-text">></button></div><div id="theme-grid" class="p-6 grid grid-cols-5 gap-4"></div><div class="p-4 border-t flex items-center gap-4" style="border-color:rgba(var(--glow-rgb), 0.3)"><input id="custom-color-input" type="text" placeholder="CUSTOM COLOR..." class="flex-grow bg-transparent border text-center p-2 rounded-md" style="border-color:rgba(var(--accent-rgb), 0.5)"><button id="font-toggle-button" class="lcars-button rounded-md px-4 py-2 text-xs">PIXEL FONT</button></div></div></div>
    <div id="performance-modal" class="modal-overlay fixed inset-0 z-[200] hidden items-center justify-center opacity-0" onclick="toggleModal('performance-modal')"><div class="modal-container w-11/12 max-w-lg p-6 flex flex-col" onclick="event.stopPropagation()"><h2 class="text-xl pb-4 mb-4 glow-text border-b flex-shrink-0" style="border-color:rgba(var(--glow-rgb), 0.3)">OBSERVER_PRIME</h2><div id="perf-modal-content" class="text-xs space-y-1 overflow-y-auto record-scrollbar max-h-[70vh]" style="font-family: 'Press Start 2P', sans-serif;"></div></div></div>
    <div id="pet-ai-modal" class="modal-overlay fixed inset-0 z-[200] hidden items-center justify-center opacity-0" onclick="toggleModal('pet-ai-modal')"><div class="modal-container w-11/12 max-w-md flex flex-col" onclick="event.stopPropagation()">
        <h2 class="text-xl p-4 glow-text border-b flex-shrink-0" style="border-color:rgba(var(--glow-rgb), 0.3)">BCC-AI ÁÖßÊä§Á≥ªÁªü</h2>
        <div id="pet-status-panel" class="flex-shrink-0 p-4 space-y-3">
            <div><label class="text-sm accent-text">È••È•øÂ∫¶</label><div class="status-bar-container"><div id="hunger-bar" class="status-bar-fill" style="background: linear-gradient(90deg, #f59e0b, #facc15);"></div></div></div>
            <div><label class="text-sm accent-text">Âπ∏Á¶èÂ∫¶</label><div class="status-bar-container"><div id="happiness-bar" class="status-bar-fill" style="background: linear-gradient(90deg, #ec4899, #f472b6);"></div></div></div>
        </div>
        <div id="ai-screen" class="flex-grow m-4 text-center"></div>
        <div class="p-4 border-t flex-shrink-0 flex justify-around" style="border-color:rgba(var(--glow-rgb), 0.3)">
            <button id="ai-feed-button" class="tamagotchi-button" title="ÂñÇÈ£ü">üçö</button>
            <button id="ai-play-button" class="tamagotchi-button" title="‰∫íÂä®">‚ù§Ô∏è</button>
            <button id="ai-status-button" class="tamagotchi-button" title="Áä∂ÊÄÅ">üìä</button>
        </div>
    </div></div>

    <script>
        // --- CONFIGURATION ---
        const CONFIG = { PROFILE_PIC_PATH: './dist/Bunny CC_Profile.JPG', PET_RECORDS_PATH: './dist/bunnycc/PetRecords.json', START_DATE: '2024/03/12 00:00:00', MOUSE_SNAKE_LENGTH: 20, COSMIC_DUST_COUNT: 250, THEMES: `pink/236,72,153 gold/251,191,36 cyan/34,211,238 magenta/244,114,182 lime/132,204,22 red/239,68,68 indigo/88,86,214 green/34,197,94 white/229,231,235 purple/168,85,247 sky/56,189,248 rose/251,113,133 emerald/16,185,129 amber/245,158,11 violet/139,92,246 fuchsia/217,70,239 teal/20,184,166 blue/59,130,246 lightblue/14,165,233 forest/22,163,74 crimson/220,38,38 silver/156,163,175 bronze/205,133,63 steel/113,128,150 mint/10,200,150 lavender/216,180,254 salmon/250,128,114 turquoise/64,224,208 olive/128,128,0 maroon/128,0,0 navy/0,0,128 coral/255,127,80 orchid/218,112,214 plum/221,160,221 khaki/240,230,140 slateblue/106,90,205 sienna/160,82,45 hotpink/255,105,180 deepskyblue/0,191,255 lawngreen/124,252,0 mediumvioletred/199,21,133 darkorange/255,140,0 dodgerblue/30,144,255 tomato/255,99,71 springgreen/0,255,127 aqua/0,255,255 chartreuse/127,255,0 darkviolet/148,0,211 electric/213,252,9 cosmic/45,15,128 nebula/188,45,225 solar/255,180,0 galactic/75,0,130 cyber/0,255,198 quantum/255,30,90 void/10,10,25 supernova/255,80,0 starlight/230,230,250`.split(' ').map(s => ({n:s.split('/')[0],r:s.split('/')[1]})) };
        const docEl = document.documentElement, bodyEl = document.body;
        const avatarContainer = document.getElementById('avatar-container'), profilePicEl = document.getElementById('profile-pic');
        const fxContainer = document.getElementById('fx-container'), sandParticlesContainer = document.getElementById('sand-particles');
        const mouseBunnyEl = document.getElementById('mouse-bunny'), mouseTrailCanvas = document.getElementById('bunny-trail-canvas'), mouseTrailCtx = mouseTrailCanvas.getContext('2d');
        const petBunnyEl = document.getElementById('pet-bunny'), vfxCanvas = document.getElementById('vfx-canvas'), vfxCtx = vfxCanvas.getContext('2d');
        const aiScreen = document.getElementById('ai-screen'), aiFeedButton = document.getElementById('ai-feed-button'), aiPlayButton = document.getElementById('ai-play-button'), aiStatusButton = document.getElementById('ai-status-button');
        let mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2, dx: 0, lastX: 0 }, mouseSnake = [];
        let pet = { x: 0, y: 0, dx: 0, lastX: 0, hunger: 100, happiness: 100, isSad: false, lastInteractionTime: 0 };
        let chart, allRecords = [], weightRecords = [];
        let lastPerfUpdateTime = 0, frameCount = 0, lastFrameTime = 0, cosmicDust = [], clickRipples = [], forceParticles = [];
        let currentThemePage = 0, audioCtx;
        let avatarState = 'normal';
        let avatarTimeout;

        document.addEventListener('DOMContentLoaded', () => { profilePicEl.src = CONFIG.PROFILE_PIC_PATH; Chart.defaults.font.family = "'Noto Sans SC', sans-serif"; Chart.defaults.font.size = 12; setupEventListeners(); initVFX(); loadAndProcessData(); setupThemeEngine(); initMouseBunny(); initPetBunny(); lastFrameTime = performance.now(); requestAnimationFrame(animationLoop); });
        function setupEventListeners() { window.addEventListener('mousemove', e => { mouse.lastX = mouse.x; mouse.x = e.clientX; mouse.y = e.clientY; mouse.dx = mouse.x - mouse.lastX; docEl.style.setProperty('--mouse-x', `${e.clientX}px`); docEl.style.setProperty('--mouse-y', `${e.clientY}px`); }); window.addEventListener('resize', () => { [mouseTrailCanvas, vfxCanvas].forEach(c => {c.width = window.innerWidth; c.height = window.innerHeight;}); }); window.addEventListener('mousedown', e => { createClickRipple(e.clientX, e.clientY); initAudio(); }); avatarContainer.addEventListener('mouseenter', handleAvatarHover); avatarContainer.addEventListener('mouseleave', handleAvatarLeave); avatarContainer.addEventListener('click', handleAvatarClick); petBunnyEl.addEventListener('click', handlePetting); aiFeedButton.addEventListener('click', handleFeeding); aiPlayButton.addEventListener('click', handlePlaying); aiStatusButton.addEventListener('click', handleStatusCheck); document.getElementById('font-toggle-button').addEventListener('click', toggleFont); document.getElementById('prev-theme-page').addEventListener('click', () => changeThemePage(-1)); document.getElementById('next-theme-page').addEventListener('click', () => changeThemePage(1)); document.getElementById('custom-color-input').addEventListener('change', applyCustomColor); }
        function animationLoop(currentTime) { const deltaTime = currentTime - lastFrameTime; lastFrameTime = currentTime; vfxCtx.clearRect(0, 0, vfxCanvas.width, vfxCanvas.height); updateAndDrawCosmicDust(); updateAndDrawClickRipples(); updateAndDrawForceParticles(); updateAndDrawMouseBunny(); updatePet(deltaTime); frameCount++; if (currentTime > lastPerfUpdateTime + 500) { updatePerfPanel(currentTime); } requestAnimationFrame(animationLoop); }
        function initAudio() { if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }
        function playSound(type) { if (!audioCtx) return; const o = audioCtx.createOscillator(); const g = audioCtx.createGain(); o.connect(g); g.connect(audioCtx.destination); if (type === 'saber') { o.type = 'sawtooth'; g.gain.setValueAtTime(0.06, audioCtx.currentTime); o.frequency.setValueAtTime(120, audioCtx.currentTime); o.frequency.linearRampToValueAtTime(300, audioCtx.currentTime + 0.1); g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.4); } if (type === 'transform') { o.type = 'sine'; g.gain.setValueAtTime(0.15, audioCtx.currentTime); o.frequency.setValueAtTime(440, audioCtx.currentTime); o.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.8); g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 1); } if (type === 'rebuild') { o.type = 'sine'; g.gain.setValueAtTime(0.12, audioCtx.currentTime); o.frequency.setValueAtTime(100, audioCtx.currentTime); o.frequency.exponentialRampToValueAtTime(880, audioCtx.currentTime + 1.5); g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 1.5); } if (type === 'pet') { o.type = 'triangle'; g.gain.setValueAtTime(0.1, audioCtx.currentTime); o.frequency.setValueAtTime(880, audioCtx.currentTime); o.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1); g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.2); } if (type === 'confirm') { o.type = 'sine'; g.gain.setValueAtTime(0.1, audioCtx.currentTime); o.frequency.setValueAtTime(600, audioCtx.currentTime); g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.1); } o.start(); o.stop(audioCtx.currentTime + 2); }
        function initVFX() { [vfxCanvas, mouseTrailCanvas].forEach(c => { c.width = window.innerWidth; c.height = window.innerHeight; }); for (let i = 0; i < CONFIG.COSMIC_DUST_COUNT; i++) { cosmicDust.push({ x: Math.random() * vfxCanvas.width, y: Math.random() * vfxCanvas.height, z: Math.random() * 1000, vx: (Math.random() - 0.5) * 0.1, vy: (Math.random() - 0.5) * 0.1, baseSize: Math.random() * 1.5 + 0.5 }); } }
        function updateAndDrawCosmicDust() { vfxCtx.fillStyle = `rgba(var(--text-color-rgb), 0.5)`; cosmicDust.forEach(p => { p.x += p.vx; p.y += p.vy; if (p.x < 0) p.x = vfxCanvas.width; if (p.x > vfxCanvas.width) p.x = 0; if (p.y < 0) p.y = vfxCanvas.height; if (p.y > vfxCanvas.height) p.y = 0; vfxCtx.beginPath(); vfxCtx.arc(p.x, p.y, p.baseSize, 0, Math.PI * 2); vfxCtx.fill(); }); }
        function createClickRipple(x, y) { clickRipples.push({ x, y, radius: 0, maxRadius: 60, life: 1 }); }
        function updateAndDrawClickRipples() { clickRipples = clickRipples.filter(r => r.life > 0); clickRipples.forEach(r => { r.radius = (1 - r.life) * r.maxRadius; r.life -= 0.04; vfxCtx.strokeStyle = `rgba(var(--accent-rgb), ${r.life})`; vfxCtx.lineWidth = 2; vfxCtx.beginPath(); vfxCtx.arc(r.x, r.y, r.radius, 0, Math.PI * 2); vfxCtx.stroke(); }); }
        function createForceBurst(count, x, y) { const rect = avatarContainer.getBoundingClientRect(); x = x || rect.left + rect.width / 2; y = y || rect.top + rect.height / 2; for (let i = 0; i < count; i++) { const angle = Math.random() * Math.PI * 2; const speed = Math.random() * 5 + 3; forceParticles.push({ x, y, vx: Math.cos(angle) * speed, vy: Math.sin(angle) * speed, life: 1, size: Math.random() * 3 + 1, color: Math.random() > 0.5 ? `var(--glow-rgb)` : `var(--accent-rgb)` }); } }
        function updateAndDrawForceParticles() { forceParticles = forceParticles.filter(p => p.life > 0); forceParticles.forEach(p => { p.x += p.vx; p.y += p.vy; p.vx *= 0.98; p.vy *= 0.98; p.life -= 0.02; const particleColor = p.color.startsWith('var') ? getComputedStyle(docEl).getPropertyValue(p.color.slice(4, -1)).trim() : p.color; vfxCtx.fillStyle = `rgba(${particleColor}, ${p.life})`; vfxCtx.beginPath(); vfxCtx.arc(p.x, p.y, p.size * p.life, 0, Math.PI * 2); vfxCtx.fill(); }); }
        function initMouseBunny() { for (let i = 0; i < CONFIG.MOUSE_SNAKE_LENGTH; i++) { mouseSnake.push({ x: mouse.x, y: mouse.y }); } }
        function updateAndDrawMouseBunny() { mouseTrailCtx.clearRect(0, 0, mouseTrailCanvas.width, mouseTrailCanvas.height); let head = { ...mouseSnake[0] }; head.x += (mouse.x - head.x) * 0.25; head.y += (mouse.y - head.y) * 0.25; mouseSnake.unshift(head); if (mouseSnake.length > CONFIG.MOUSE_SNAKE_LENGTH) mouseSnake.pop(); const glowRgb = getComputedStyle(docEl).getPropertyValue('--glow-rgb').trim(); const accentRgb = getComputedStyle(docEl).getPropertyValue('--accent-rgb').trim(); for (let i = 1; i < mouseSnake.length; i++) { const grad = mouseTrailCtx.createLinearGradient(mouseSnake[i-1].x, mouseSnake[i-1].y, mouseSnake[i].x, mouseSnake[i].y); const opacity = 1 - (i / mouseSnake.length); grad.addColorStop(0, `rgba(${glowRgb}, ${opacity * 0.8})`); grad.addColorStop(1, `rgba(${accentRgb}, ${opacity * 0.8})`); mouseTrailCtx.strokeStyle = grad; mouseTrailCtx.lineWidth = 1 + (mouseSnake.length - i) * 0.15; mouseTrailCtx.beginPath(); mouseTrailCtx.moveTo(mouseSnake[i-1].x, mouseSnake[i-1].y); mouseTrailCtx.lineTo(mouseSnake[i].x, mouseSnake[i].y); mouseTrailCtx.stroke(); } mouseBunnyEl.style.left = `${head.x}px`; mouseBunnyEl.style.top = `${head.y}px`; if (mouse.dx !== 0) mouseBunnyEl.style.transform = `translate(-50%, -50%) scaleX(${mouse.dx > 0 ? 1 : -1})`; }
        function initPetBunny() { pet.x = window.innerWidth - 80; pet.y = window.innerHeight - 80; pet.lastInteractionTime = Date.now(); }
        function updatePet(deltaTime) { pet.hunger -= deltaTime / 2000; if(Date.now() - pet.lastInteractionTime > 5000) { pet.happiness -= deltaTime / 1000; } pet.hunger = Math.max(0, pet.hunger); pet.happiness = Math.max(0, pet.happiness); document.getElementById('hunger-bar').style.width = `${pet.hunger}%`; document.getElementById('happiness-bar').style.width = `${pet.happiness}%`; const isSad = pet.hunger < 30 || pet.happiness < 30; if(isSad && !pet.isSad) { petBunnyEl.classList.add('sad'); pet.isSad = true; } if(!isSad && pet.isSad) { petBunnyEl.classList.remove('sad'); pet.isSad = false; } const targetX = window.innerWidth - 80; const targetY = window.innerHeight - 80; pet.lastX = pet.x; pet.x += (targetX - pet.x) * 0.05; pet.y += (targetY - pet.y) * 0.05; pet.dx = pet.x - pet.lastX; petBunnyEl.style.left = `${pet.x}px`; petBunnyEl.style.top = `${pet.y}px`; if (pet.dx !== 0) petBunnyEl.style.transform = `translate(-50%, -50%) scaleX(${pet.dx > 0 ? 1 : -1}) rotate(${pet.dx * 2}deg)`; }
        function handlePetting() { pet.happiness = Math.min(100, pet.happiness + 15); pet.lastInteractionTime = Date.now(); createHeartParticles(pet.x, pet.y); playSound('pet'); }
        function createHeartParticles(x, y) { for (let i = 0; i < 5; i++) { const heart = document.createElement('div'); heart.className = 'heart-particle'; heart.innerHTML = '‚ô•'; heart.style.left = `${x + (Math.random() - 0.5) * 20}px`; heart.style.top = `${y}px`; heart.style.animationDelay = `${Math.random() * 0.2}s`; document.body.appendChild(heart); setTimeout(() => heart.remove(), 1500); } }
        function handleAvatarHover() { if (avatarState === 'normal') { avatarContainer.classList.add('charging'); clearTimeout(avatarTimeout); } }
        function handleAvatarLeave() { if (avatarState === 'charging') avatarContainer.classList.remove('charging'); }
        function handleAvatarClick() {
            clearTimeout(avatarTimeout);
            switch (avatarState) {
                case 'charging':
                    avatarContainer.classList.remove('charging');
                    avatarContainer.classList.add('transforming');
                    avatarState = 'transforming';
                    playSound('transform');
                    avatarTimeout = setTimeout(() => {
                        avatarContainer.classList.remove('transforming');
                        avatarContainer.classList.add('transformed');
                        avatarState = 'transformed';
                    }, 1300);
                    break;
                case 'transformed':
                    const crystalBunny = fxContainer.querySelector('.crystal-bunny');
                    crystalBunny.classList.add('leaving');
                    avatarState = 'carrot_summoned';
                    avatarTimeout = setTimeout(() => {
                        avatarContainer.classList.remove('transformed');
                        avatarContainer.classList.add('carrot-summoned');
                    }, 500);
                    break;
                case 'carrot_summoned':
                    avatarContainer.classList.remove('carrot-summoned');
                    avatarState = 'rebuilding';
                    playSound('rebuild');
                    playSandstormEffect();
                    avatarTimeout = setTimeout(() => {
                        profilePicEl.style.opacity = '1';
                        createForceBurst(30);
                        avatarState = 'normal';
                    }, 1000);
                    break;
            }
        }
        function playSandstormEffect() { sandParticlesContainer.innerHTML = ''; for (let i = 0; i < 150; i++) { const particle = document.createElement('div'); particle.className = 'sand-particle'; const angle = Math.random() * Math.PI * 2, radius = 70 + Math.random() * 50; particle.style.left = `${50 + radius * Math.cos(angle)}%`; particle.style.top = `${50 + radius * Math.sin(angle)}%`; particle.style.animationDelay = `${Math.random() * 0.2}s`; sandParticlesContainer.appendChild(particle); } setTimeout(() => { sandParticlesContainer.innerHTML = ''; }, 2000); }
        function handleFeeding() { pet.hunger = Math.min(100, pet.hunger + 25); pet.happiness = Math.min(100, pet.happiness + 5); pet.lastInteractionTime = Date.now(); updateAiScreen("Â∑≤ÂñÇÈ£üÔºÅ\nBCC-01 ÁöÑÈ••È•øÂ∫¶ÂæóÂà∞Ë°•ÂÖÖ„ÄÇ"); playSound('confirm'); }
        function handlePlaying() { pet.happiness = Math.min(100, pet.happiness + 20); pet.hunger = Math.max(0, pet.hunger - 5); pet.lastInteractionTime = Date.now(); updateAiScreen("‰∫íÂä®ÂÆåÊàê„ÄÇ\nBCC-01 ÁöÑÂπ∏Á¶èÂ∫¶ÊèêÂçá‰∫ÜÔºÅ"); playSound('confirm'); }
        function handleStatusCheck() { let statusReport = "BCC-01 Áä∂ÊÄÅÂàÜÊûêÔºö\n"; if (pet.isSad) { statusReport += "Ë≠¶ÂëäÔºÅÂπ∏Á¶èÂ∫¶ÊàñÈ••È•øÂ∫¶Ëøá‰ΩéÔºåÈúÄË¶ÅÁ´ãÂç≥ÂÖ≥Ê≥®„ÄÇ"; } else if (pet.happiness > 80 && pet.hunger > 80) { statusReport += "Áä∂ÊÄÅÊûÅ‰Ω≥ÔºåÊâÄÊúâÊåáÊ†áÂùáÂú®ÊúÄ‰Ω≥ËåÉÂõ¥„ÄÇ"; } else { statusReport += "Áä∂ÊÄÅÁ®≥ÂÆöÔºåÂêÑÈ°πÊåáÊ†áÂùáÂú®ÂÆâÂÖ®ËåÉÂõ¥ÂÜÖ„ÄÇ"; } updateAiScreen(statusReport); playSound('confirm'); }
        function updateAiScreen(text) { aiScreen.textContent = text; }
        
        function updatePerfPanel(currentTime) {
            const perfContent = document.getElementById('perf-modal-content');
            if (!perfContent || document.getElementById('performance-modal').classList.contains('hidden')) return;
            const interval = currentTime - lastPerfUpdateTime;
            const fps = Math.round((frameCount / interval) * 1000);
            const realTimeContainer = perfContent.querySelector('#realtime-metrics-container');
            if(realTimeContainer) {
                realTimeContainer.innerHTML = `<div class="col-span-2 text-lg glow-text mb-2">Real-time Metrics</div><div class="col-span-2 border-b border-gray-700 mb-2"></div><div class="col-span-2 grid grid-cols-2 gap-x-4"><span class="text-gray-400">FPS:</span><span class="text-white text-right">${fps}</span><span class="text-gray-400">FRAME TIME:</span><span class="text-white text-right">${(1000/fps).toFixed(2)}ms</span><span class="text-gray-400">PARTICLES:</span><span class="text-white text-right">${cosmicDust.length + clickRipples.length + forceParticles.length + mouseSnake.length + document.querySelectorAll('.heart-particle').length}</span><span class="text-gray-400">DOM NODES:</span><span class="text-white text-right">${document.getElementsByTagName('*').length}</span></div>`;
            }
            lastPerfUpdateTime = currentTime;
            frameCount = 0;
        }
        
        async function getStaticPerfData() { const perfContent = document.getElementById('perf-modal-content'); if (!perfContent) return; perfContent.innerHTML = `<div id="realtime-metrics-container"></div>`; let staticHtml = ''; let memHtml = '<div class="col-span-2 text-lg glow-text mt-4 mb-2">Memory Subsystem</div><div class="col-span-2 border-b border-gray-700 mb-2"></div><div class="col-span-2 grid grid-cols-2 gap-x-4">'; if (performance.memory) { memHtml += `<span class="text-gray-400">JS HEAP USED:</span><span class="text-white text-right">${(performance.memory.usedJSHeapSize / 1048576).toFixed(1)} MB</span>`; memHtml += `<span class="text-gray-400">JS HEAP TOTAL:</span><span class="text-white text-right">${(performance.memory.totalJSHeapSize / 1048576).toFixed(1)} MB</span>`; memHtml += `<span class="text-gray-400">JS HEAP LIMIT:</span><span class="text-white text-right">${(performance.memory.jsHeapSizeLimit / 1048576).toFixed(1)} MB</span>`; } else { memHtml += '<span class="col-span-2">Memory API N/A</span>'; } memHtml += '</div>'; staticHtml += memHtml; const navTiming = performance.getEntriesByType("navigation")[0]; const paintTimings = performance.getEntriesByType("paint"); if (navTiming || paintTimings.length > 0) { let pageHtml = '<div class="col-span-2 text-lg glow-text mt-4 mb-2">Page Vitals & Load</div><div class="col-span-2 border-b border-gray-700 mb-2"></div><div class="col-span-2 grid grid-cols-2 gap-x-4">'; const fcp = paintTimings.find(p => p.name === 'first-contentful-paint'); if(fcp) pageHtml += `<span class="text-gray-400">FIRST PAINT:</span><span class="text-white text-right">${fcp.startTime.toFixed(0)} ms</span>`; if(navTiming) pageHtml += `<span class="text-gray-400">TOTAL LOAD:</span><span class="text-white text-right">${navTiming.duration.toFixed(0)} ms</span>`; pageHtml += '</div>'; staticHtml += pageHtml; } const resources = performance.getEntriesByType("resource"); if(resources.length > 0) { let resHtml = '<div class="col-span-2 text-lg glow-text mt-4 mb-2">Resource Analysis</div><div class="col-span-2 border-b border-gray-700 mb-2"></div><div class="col-span-2 grid grid-cols-2 gap-x-4">'; const totalSize = resources.reduce((acc, r) => acc + (r.transferSize || 0), 0); resHtml += `<span class="text-gray-400">TOTAL ASSETS:</span><span class="text-white text-right">${resources.length}</span>`; resHtml += `<span class="text-gray-400">PAGE WEIGHT:</span><span class="text-white text-right">${(totalSize / 1024).toFixed(1)} KB</span>`; const slowest = [...resources].sort((a,b) => b.duration - a.duration)[0]; if(slowest) resHtml += `<span class="text-gray-400 col-span-2">SLOWEST:</span><span class="text-white col-span-2 break-all text-right">${slowest.name.split('/').pop()} (${slowest.duration.toFixed(0)}ms)</span>`; resHtml += '</div>'; staticHtml += resHtml; } let sysHtml = '<div class="col-span-2 text-lg glow-text mt-4 mb-2">Hardware & System</div><div class="col-span-2 border-b border-gray-700 mb-2"></div><div class="col-span-2 grid grid-cols-2 gap-x-4">'; if(navigator.hardwareConcurrency) sysHtml += `<span class="text-gray-400">CPU CORES:</span><span class="text-white text-right">${navigator.hardwareConcurrency}</span>`; if(navigator.deviceMemory) sysHtml += `<span class="text-gray-400">SYS MEMORY:</span><span class="text-white text-right">~${navigator.deviceMemory} GB</span>`; if(navigator.getBattery) { try { const battery = await navigator.getBattery(); sysHtml += `<span class="text-gray-400">BATTERY:</span><span class="text-white text-right">${(battery.level * 100).toFixed(0)}% ${battery.charging ? '(Charging)' : ''}</span>`; } catch(e) {} } if (navigator.userAgent) { let os = "Unknown"; if (navigator.userAgent.includes("Win")) os = "Windows"; else if (navigator.userAgent.includes("Mac")) os = "macOS"; else if (navigator.userAgent.includes("Linux")) os = "Linux"; else if (navigator.userAgent.includes("Android")) os = "Android"; else if (navigator.userAgent.includes("iPad")) os = "iPadOS"; else if (navigator.userAgent.includes("iPhone")) os = "iOS"; sysHtml += `<span class="text-gray-400">OS:</span><span class="text-white text-right">${os}</span>`; } sysHtml += '</div>'; staticHtml += sysHtml; perfContent.innerHTML += staticHtml; }
        
        function toggleFont() { bodyEl.classList.toggle('font-pixel'); const button = document.getElementById('font-toggle-button'); if (bodyEl.classList.contains('font-pixel')) { Chart.defaults.font.family = "'Press Start 2P', 'Noto Sans SC', sans-serif"; Chart.defaults.font.size = 10; button.textContent = "SYSTEM FONT"; } else { Chart.defaults.font.family = "'Noto Sans SC', sans-serif"; Chart.defaults.font.size = 12; button.textContent = "PIXEL FONT"; } if (chart) renderWeightChart(weightRecords); }
        async function loadAndProcessData() { try { const response = await fetch(CONFIG.PET_RECORDS_PATH); if (!response.ok) throw new Error('Network response was not ok.'); const rawRecords = await response.json(); const processedRecords = rawRecords.map(r => { const d = new Date(Math.floor(r.date) * 1000); d.setFullYear(d.getFullYear() + 31); return { ...r, processedDate: d }; }); allRecords = [...processedRecords].sort((a, b) => b.processedDate - a.processedDate); weightRecords = processedRecords.filter(r => r.activity === '‰ΩìÈáçÊµãÈáè' && r.weight > 0).sort((a, b) => a.processedDate - b.processedDate); } catch (error) { console.error("ÁÑ°Ê≥ïÂæûÊ™îÊ°àÂä†ËºâÊï∏Êìö:", error); const fallbackData = [ { "date": 1678838400, "activity": "È¶ñÊ¨°‰ΩìÊ£Ä", "notes": "‰∏ÄÂàáÊ≠£Â∏∏", "weight": 0 }, { "date": 1679443200, "activity": "‰ΩìÈáçÊµãÈáè", "notes": "È£üÊÖæÂæàÂ•Ω", "weight": 510 }, { "date": 1680048000, "activity": "‰ΩìÈáçÊµãÈáè", "notes": "Â≠∏ÊúÉ‰ΩøÁî®È£≤Ê∞¥Âô®", "weight": 580 }, { "date": 1681257600, "activity": "‰ΩìÈáçÊµãÈáè", "notes": "ÊèõÊØõÊúü", "weight": 720 }, { "date": 1682467200, "activity": "‰ΩìÈáçÊµãÈáè", "notes": "È´îÈáçÊé•ËøëÊàêÂπ¥Ê®ôÊ∫ñ", "weight": 870 } ]; const processedFallback = fallbackData.map(r => { const d = new Date(Math.floor(r.date) * 1000); d.setFullYear(d.getFullYear() + 31); return { ...r, processedDate: d }; }); allRecords = [...processedFallback].sort((a, b) => b.processedDate - a.processedDate); weightRecords = processedFallback.filter(r => r.activity === '‰ΩìÈáçÊµãÈáè' && r.weight > 0).sort((a, b) => a.processedDate - b.processedDate); } renderAllRecords(allRecords); renderWeightChart(weightRecords); updateTiming(); setInterval(updateTiming, 1000); }
        function renderAllRecords(records) { const container = document.getElementById('all-records-container'); if (!records || records.length === 0) { container.innerHTML = '<p>ÁÑ°Êï∏ÊìöÊµÅË®òÈåÑ„ÄÇ</p>'; return; } container.innerHTML = records.map(rec => { const dateStr = rec.processedDate.toLocaleDateString('sv-SE'); const weightInfo = rec.weight > 0 ? ` - WEIGHT: <strong class="glow-text">${rec.weight}g</strong>` : ''; return `<div class="p-2 rounded" style="background-color: rgba(var(--glow-rgb), 0.05); border-left: 2px solid rgba(var(--glow-rgb), 0.4);"><div class="flex justify-between items-center"><p class="font-bold"><span class="accent-text">${rec.activity}</span>${weightInfo}</p><time class="text-xs flex-shrink-0 ml-2" style="color:var(--text-muted-color)">${dateStr}</time></div><p class="text-sm mt-1" style="color: var(--text-muted-color)">NOTES: ${rec.notes || 'N/A'}</p></div>`; }).join(''); }
        function renderWeightChart(records) { if (chart) chart.destroy(); const glowColor = `rgb(${getComputedStyle(docEl).getPropertyValue('--glow-rgb').trim()})`; const accentColor = `rgb(${getComputedStyle(docEl).getPropertyValue('--accent-rgb').trim()})`; const mutedColor = getComputedStyle(docEl).getPropertyValue('--text-muted-color').trim(); const labels = records.map(r => r.processedDate.toLocaleDateString('zh-CN', {month:'2-digit', day:'2-digit'})); const data = records.map(r => r.weight); const ctx = document.getElementById('weightChart').getContext('2d'); chart = new Chart(ctx, { type: 'line', data: { labels: labels, datasets: [{ label: 'WEIGHT (g)', data: data, borderColor: glowColor, backgroundColor: glowColor.replace(')', ', 0.2)').replace('rgb', 'rgba'), pointBackgroundColor: accentColor, pointBorderColor: '#fff', pointHoverBackgroundColor: '#fff', pointHoverBorderColor: accentColor, tension: 0.3, fill: true, }] }, options: { responsive: true, maintainAspectRatio: false, interaction: { mode: 'index', intersect: false }, plugins: { legend: { display: false }, tooltip: { enabled: true } }, scales: { x: { ticks: { color: mutedColor }, grid: { color: 'rgba(var(--glow-rgb), 0.1)', drawBorder: false } }, y: { ticks: { color: mutedColor, callback: (value) => `${value}g` }, grid: { color: 'rgba(var(--glow-rgb), 0.1)', drawBorder: false } } }, onClick: (event) => { const points = chart.getElementsAtEventForMode(event, 'index', { intersect: false }); if (points.length) { const index = points[0].index; const weightInfoEl = document.getElementById('weight-change-info'); if (index === 0) { weightInfoEl.innerHTML = `ÂàùÂßãËÆ∞ÂΩïÁÇπÔºåÊó†ÂâçÊúüÊï∞ÊçÆÂèØÊØîËæÉ„ÄÇ`; return; } const currentRecord = weightRecords[index]; const previousRecord = weightRecords[index - 1]; const diff = currentRecord.weight - previousRecord.weight; const dateDiff = Math.round((currentRecord.processedDate - previousRecord.processedDate) / (1000 * 60 * 60 * 24)); const changeText = diff >= 0 ? `‚ñ≤ Â¢ûÂä† ${diff.toFixed(0)}g` : `‚ñº ÂáèÂ∞ë ${Math.abs(diff.toFixed(0))}g`; const colorClass = diff >= 0 ? 'accent-text' : 'text-red-400'; weightInfoEl.innerHTML = `Ë∑ùÁ¶ª ${dateDiff} Â§©ÂâçÁöÑÊµãÈáè: <strong class="${colorClass}">${changeText}</strong>`; } } } }); const weightInfoEl = document.getElementById('weight-change-info'); if (records.length >= 2) { const latest = records[records.length - 1].weight; const previous = records[records.length - 2].weight; const change = latest - previous; const changeText = change > 0 ? `‚ñ≤ ${change.toFixed(0)}g` : (change < 0 ? `‚ñº ${Math.abs(change.toFixed(0))}g` : 'ÊåÅÂπ≥'); const changeColorClass = change > 0 ? 'accent-text' : (change < 0 ? 'text-red-400' : 'text-gray-400'); weightInfoEl.innerHTML = `ÊúÄÊñ∞: <strong class="glow-text">${latest}g</strong>. ÂØπÊØî‰∏äÊ¨°: <strong class="${changeColorClass}">${changeText}</strong>.`; } else if (records.length === 1) { weightInfoEl.innerHTML = `ÂàùÂßãËÆ∞ÂΩï: <strong class="glow-text">${records[0].weight}g</strong>.`; } else { weightInfoEl.innerHTML = `Á≠âÂæÖ‰ΩìÈáçÊï∞ÊçÆ...`; } }
        function setupThemeEngine() { const randomTheme = CONFIG.THEMES[0]; changeTheme(randomTheme); renderThemePage(); }
        function changeThemePage(direction) { const totalPages = Math.ceil(CONFIG.THEMES.length / 10); currentThemePage = (currentThemePage + direction + totalPages) % totalPages; renderThemePage(); }
        function renderThemePage() { const themeGrid = document.getElementById('theme-grid'); themeGrid.innerHTML = ''; const startIndex = currentThemePage * 10; const endIndex = startIndex + 10; CONFIG.THEMES.slice(startIndex, endIndex).forEach(theme => { const swatch = document.createElement('button'); swatch.className = "h-12 w-full rounded-md transition-all duration-200 hover:scale-110 hover:shadow-lg focus:ring-2 ring-offset-2"; swatch.style.backgroundColor = `rgb(${theme.r})`; swatch.style.boxShadow = `0 0 15px rgba(${theme.r}, 0.5)`; swatch.title = theme.n; swatch.onclick = () => changeTheme(theme); themeGrid.appendChild(swatch); }); const totalPages = Math.ceil(CONFIG.THEMES.length / 10); document.getElementById('theme-page-title').innerText = `COLORS [${currentThemePage+1}/${totalPages}]`; }
        function applyCustomColor(event) { let input = event.target.value.trim(); let rgb; if (input.startsWith('#')) { const hex = input.substring(1); if(hex.length === 3) { rgb = hex.split('').map(c => parseInt(c+c, 16)).join(','); } else if (hex.length === 6) { const bigint = parseInt(hex, 16); rgb = `${(bigint >> 16) & 255},${(bigint >> 8) & 255},${bigint & 255}`; } } else if (input.startsWith('rgb')) { const matches = input.match(/\d+/g); if(matches && matches.length === 3) rgb = matches.join(','); } if (rgb) changeTheme({ r: rgb }); }
        function changeTheme(theme) { docEl.style.setProperty('--glow-rgb', theme.r); const yellowTheme = CONFIG.THEMES.find(t => t.n === 'gold'); if(yellowTheme) docEl.style.setProperty('--accent-rgb', yellowTheme.r); if (chart) renderWeightChart(weightRecords); }
        function updateTiming() { const timingEl = document.getElementById('timing'); const startDate = new Date(CONFIG.START_DATE); const currentDate = new Date(); const elapsedMs = currentDate.getTime() - startDate.getTime(); const elapsedDays = (elapsedMs / 86400000).toFixed(3); const totalSeconds = Math.floor(elapsedMs / 1000); const elapsedHours = Math.floor(totalSeconds / 3600); const elapsedMinutes = Math.floor((totalSeconds % 3600) / 60); const elapsedSeconds = totalSeconds % 60; const formatDate = (d) => `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, '0')}-${d.getDate().toString().padStart(2, '0')}`; const getNextAnniversary = (base, days) => { let count = 0, nextDate; do { count++; nextDate = new Date(base.getTime() + count * days * 86400000); } while (nextDate < currentDate); return { date: nextDate, count }; }; const getNextYearly = (base) => { let count = 0, nextDate; do { count++; nextDate = new Date(base); nextDate.setFullYear(base.getFullYear() + count); } while (nextDate < currentDate); return { date: nextDate, count }; }; const next100 = getNextAnniversary(startDate, 100); const next180 = getNextAnniversary(startDate, 180); const next300 = getNextAnniversary(startDate, 300); const nextYear = getNextYearly(startDate); timingEl.innerHTML = `<p>üê∞ ÂÖîÂèØÂèØÂ∑≤Á∂ìÂà∞‰æÜ <strong class="accent-text">${elapsedDays}</strong> Â§©Âï¶</p><p>üéÇ ÁõÆÂâçÂ∑≤Á∂ìÂà∞‰æÜ <strong class="accent-text">${elapsedHours}</strong>Â∞èÊôÇ <strong class="accent-text">${elapsedMinutes}</strong>ÂàÜÈêò <strong class="accent-text">${elapsedSeconds}</strong>Áßí</p><div class="pt-2 mt-2 border-t border-dashed" style="border-color: rgba(var(--glow-rgb), 0.2)"></div><p>üå± ‰∏ã‰∏ÄÂÄã100Â§©Á¥ÄÂøµÊó•ÊòØ <strong class="accent-text">${formatDate(next100.date)}</strong>ÔºàÁ¨¨${next100.count}ÂÄã100Â§©Ôºâ</p><p>üåø ‰∏ã‰∏ÄÂÄã180Â§©Á¥ÄÂøµÊó•ÊòØ <strong class="accent-text">${formatDate(next180.date)}</strong>ÔºàÁ¨¨${next180.count}ÂÄã180Â§©Ôºâ</p><p>üçÄ ‰∏ã‰∏ÄÂÄã300Â§©Á¥ÄÂøµÊó•ÊòØ <strong class="accent-text">${formatDate(next300.date)}</strong>ÔºàÁ¨¨${next300.count}ÂÄã300Â§©Ôºâ</p><p>üéâ ‰∏ã‰∏ÄÂÄã‰∏ÄÂë®Âπ¥Á¥ÄÂøµÊó•ÊòØ <strong class="accent-text">${formatDate(nextYear.date)}</strong>ÔºàÁ¨¨${nextYear.count}Âë®Âπ¥Ôºâ</p>`; }
        function toggleModal(modalId) { const modal = document.getElementById(modalId); if (modal.classList.contains('hidden')) { modal.classList.remove('hidden'); requestAnimationFrame(() => modal.classList.remove('opacity-0')); if (modalId === 'changelog-modal' && !document.getElementById('changelog-content').innerHTML) renderChangelog(); if (modalId === 'performance-modal') getStaticPerfData(); } else { modal.classList.add('opacity-0'); setTimeout(() => { modal.classList.add('hidden'); }, 300); } }
        function toggleFullscreen() { if (!document.fullscreenElement) docEl.requestFullscreen().catch(err => alert(`Fullscreen failed: ${err.message}`)); else document.exitFullscreen(); }
        function renderChangelog() {
            const changelogData = [
                { version: "v11.1", date: "AEGIS_REFORGED", items: [ { type: "üêõ ‰øÆÂæ© (Fix)", en: "Fixed a critical execution-halting error in the mouse trail renderer caused by attempting to use a CSS variable directly in the Canvas API.", zh: "‰øÆÂ§ç‰∫ÜÂõ†Â∞ùËØïÂú®Canvas API‰∏≠Áõ¥Êé•‰ΩøÁî®CSSÂèòÈáèËÄåÂØºËá¥ÁöÑ„ÄÅ‰ºö‰ΩøÁ®ãÂ∫èÂÅúÊ≠¢ÊâßË°åÁöÑÈº†Ê†áÂÖâËΩ®Ê∏≤ÊüìÂô®Ëá¥ÂëΩÈîôËØØ„ÄÇ" }, { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Refactored the mouse trail rendering logic to correctly fetch computed CSS variable values before drawing.", zh: "ÈáçÊûÑ‰∫ÜÈº†Ê†áÂÖâËΩ®ÁöÑÊ∏≤ÊüìÈÄªËæëÔºå‰ª•Âú®ÁªòÂà∂ÂâçÊ≠£Á°ÆËé∑ÂèñËÆ°ÁÆóÂêéÁöÑCSSÂèòÈáèÂÄº„ÄÇ" } ]},
                { version: "v11.0", date: "CRYSTAL_HEART", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Implemented a multi-stage 'Sailor Moon' transformation sequence for the avatar.", zh: "‰∏∫Â§¥ÂÉèÂÆûÁé∞‰∫ÜÂ§öÈò∂ÊÆµÁöÑ‚ÄúÁæéÂ∞ëÂ•≥ÊàòÂ£´‚ÄùÂèòË∫´Â∫èÂàó„ÄÇ" }, { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "The performance monitor modal is now scrollable.", zh: "ÊÄßËÉΩÁõëËßÜÂô®Á™óÂè£Áé∞Â∑≤ÂèØÊªöÂä®„ÄÇ" } ]},
                { version: "v10.1", date: "OBSERVER_PRIME", items: [ { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Upgraded the Performance Monitor to a professional-grade 'Observer Core'.", zh: "Â∞ÜÊÄßËÉΩÁõëËßÜÂô®ÂçáÁ∫ß‰∏∫‰∏ì‰∏öÁ∫ß‚ÄúËßÇÂØüËÄÖÊ†∏ÂøÉ‚Äù„ÄÇ" } ]},
                { version: "v10.0", date: "AEGIS_PRIME", items: [ { type: "üêõ ‰øÆÂæ© (Fix)", en: "Fixed a critical regression bug with JSON date parsing.", zh: "‰øÆÂ§ç‰∫ÜJSONÊó•ÊúüËß£ÊûêÁöÑÂÖ≥ÈîÆÂõûÂΩíÊÄßBug„ÄÇ" } ]},
                { version: "v9.4.1", date: "GRANZORT_DRIVE", items: [ { type: "üêõ ‰øÆÂæ© (Fix)", en: "Fixed a regression bug where date difference calculations failed.", zh: "‰øÆÂ§ç‰∫ÜÊó•ÊúüÂ∑ÆÂºÇËÆ°ÁÆóÂ§±Ë¥•ÁöÑÂõûÂΩíÊÄßBug„ÄÇ" } ]},
                { version: "v9.4", date: "GRANZORT_DRIVE", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Rebuilt the Pet AI modal into a 'Tamagotchi-style' 3-button interface.", zh: "Â∞ÜÂÆ†Áâ©AIÁ™óÂè£ÈáçÊûÑ‰∏∫‚ÄúÊãìÈ∫ªÊ≠åÂ≠ê‚ÄùÈ£éÊ†ºÁöÑ‰∏âÊåâÈîÆÁïåÈù¢„ÄÇ" }, { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Enhanced the avatar rebuild effect with a 'Granzort-style' spiraling particle animation.", zh: "‰ΩøÁî®‚ÄúÈ≠îÂä®Áéã‚ÄùÈ£éÊ†ºÁöÑËû∫ÊóãÁ≤íÂ≠êÂä®ÁîªÂ¢ûÂº∫‰∫ÜÂ§¥ÂÉèÈáçÁªÑÁâπÊïà„ÄÇ" } ]},
                { version: "v9.3.1", date: "TAMAGOTCHI_CORE", items: [ { type: "üêõ ‰øÆÂæ© (Fix)", en: "Fixed an issue where chart click events were not being registered.", zh: "‰øÆÂ§ç‰∫ÜÂõæË°®ÁÇπÂáª‰∫ã‰ª∂Êó†Ê≥ïË¢´Ê≥®ÂÜåÁöÑÈóÆÈ¢ò„ÄÇ" } ]},
                { version: "v9.3", date: "TAMAGOTCHI_CORE", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Overhauled the pet system into a 'Tamagotchi' mini-game.", zh: "Â∞ÜÂÆ†Áâ©Á≥ªÁªüÈáçÊûÑ‰∏∫ÂÖ∑ÊúâÈ••È•øÂ∫¶ÂíåÂπ∏Á¶èÂ∫¶Áä∂ÊÄÅÁöÑ‚ÄúÊãìÈ∫ªÊ≠åÂ≠ê‚ÄùËø∑‰Ω†Ê∏∏Êàè„ÄÇ" }, { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "AI responses are now based on real-time pet stats and JSON data.", zh: "AIÁöÑÂõûÂ§çÁé∞Âú®Âü∫‰∫éÂÆûÊó∂ÁöÑÂÆ†Áâ©Áä∂ÊÄÅÂíåÂ∑≤Âä†ËΩΩÁöÑJSONÊï∞ÊçÆ„ÄÇ" } ]},
                { version: "v9.2", date: "SYNAPSE", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Introduced a mock-AI chat modal.", zh: "ÂºïÂÖ•‰∫ÜÊ®°ÊãüAIËÅäÂ§©Á™óÂè£„ÄÇ" }, { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Reworked the performance monitor into a modal window.", zh: "Â∞ÜÊÄßËÉΩÁõëËßÜÂô®ÈáçÊûÑ‰∏∫ÂºπÂá∫Á™óÂè£„ÄÇ" }, { type: "üêõ ‰øÆÂæ© (Fix)", en: "Completely fixed the avatar slash/rebuild effect.", zh: "ÂΩªÂ∫ï‰øÆÂ§ç‰∫ÜÂ§¥ÂÉèÊå•Á†ç/ÈáçÁªÑÁâπÊïà„ÄÇ" } ]},
                { version: "v9.1.1", date: "AEGIS-CORE", items: [ { type: "üêõ ‰øÆÂæ© (Fix)", en: "Fixed a critical bug where the Performance Monitor was permanently hidden.", zh: "‰øÆÂ§ç‰∫ÜÂØºËá¥ÊÄßËÉΩÁõëËßÜÂô®Ë¢´Ê∞∏‰πÖÈöêËóèÁöÑÂÖ≥ÈîÆÈîôËØØ„ÄÇ" } ]},
                { version: "v9.1", date: "AEGIS-CORE", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Restored the fully interactive Pet Bunny module.", zh: "ÊÅ¢Â§ç‰∫ÜÂÆåÂÖ®‰∫íÂä®ÁöÑÂÆ†Áâ©ÂÖîÂ≠êÊ®°ÁªÑ„ÄÇ" }, { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Replaced the 'Genesis' avatar effect with the 'Lightsaber Slash' variant.", zh: "Â∞Ü„ÄåÂàõ‰∏ñÁ∫™„ÄçÂ§¥ÂÉèÁâπÊïàÊõøÊç¢‰∏∫„ÄåÂÖâÂâëÊå•Á†ç„ÄçÁâàÊú¨„ÄÇ" } ]},
                { version: "v9.0", date: "GENESIS-PRIME", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Added 'Genesis' avatar effect.", zh: "Êñ∞Â¢û„ÄåÂàõ‰∏ñÁ∫™„ÄçÂ§¥ÂÉèÁâπÊïà„ÄÇ" }, { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "The Performance Monitor is now a toggleable module.", zh: "ÊÄßËÉΩÁõëËßÜÂô®Áé∞Â∑≤Êàê‰∏∫ÂèØÂàáÊç¢Ê®°Âùó„ÄÇ" } ]},
                { version: "v8.1", date: "ETERNITY", items: [ { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Conducted a full stability audit.", zh: "ËøõË°å‰∫ÜÂÖ®Èù¢Á®≥ÂÆöÊÄßÂÆ°ËÆ°„ÄÇ" } ]},
                { version: "v8.0", date: "SINGULARITY", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Added 'Lightsaber Duel' effect and black hole lensing VFX.", zh: "Âä†ÂÖ•‰∫Ü„ÄåÂÖâÂâëÂØπÂÜ≥„ÄçÁâπÊïàÂíåÈªëÊ¥ûÂºïÂäõÈÄèÈïúVFX„ÄÇ" } ]},
                { version: "v7.7", date: "RECALIBRATED", items: [ { type: "üêõ ‰øÆÂæ© (Fix)", en: "Recalibrated chart click events and restored pet bunny visibility.", zh: "ÈáçÊñ∞Ê†°ÂáÜ‰∫ÜÂõæË°®ÁÇπÂáª‰∫ã‰ª∂Âπ∂ÊÅ¢Â§ç‰∫ÜÂÆ†Áâ©ÂÖîÁöÑÂèØËßÅÊÄß„ÄÇ" } ]},
                { version: "v7.6", date: "SOLID-STATE", items: [ { type: "üêõ ‰øÆÂæ© (Fix)", en: "Fixed critical bugs affecting Milestones, Theme Palette, and Chart Interactions.", zh: "‰øÆÂ§ç‰∫ÜÂΩ±ÂìçÈáåÁ®ãÁ¢ë„ÄÅ‰∏ªÈ¢òÈù¢ÊùøÂíåÂõæË°®‰∫íÂä®ÁöÑÂÖ≥ÈîÆÈîôËØØ„ÄÇ" } ]},
                { version: "v7.5.1", date: "QUANTUM-LEAP", items: [ { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Upgraded mouse trail to a 'Quantum Trail' and added a 'Data Storm' scanline.", zh: "Â∞ÜÊªëÈº†ËΩ®ËøπÂçáÁ∫ß‰∏∫Â§öÂΩ©ÁöÑ„ÄåÈáèÂ≠êÂÖâËΩ®„ÄçÔºåÂπ∂Êñ∞Â¢û‰∫Ü„ÄåÊï∞ÊçÆÈ£éÊö¥„ÄçÊâ´ÊèèÁ∫ø„ÄÇ" } ]},
                { version: "v7.5", date: "STABILIZED-CORE", items: [ { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Enhanced the cosmic dust VFX to be interactive.", zh: "Â¢ûÂº∑‰∫ÜÂÆáÂÆôÂ∞òÂüÉÁâπÊïà‰ΩøÂÖ∂ÂèØ‰∫íÂä®„ÄÇ" } ]},
                { version: "v7.4", date: "NEXUS-CORE", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Pet interaction now triggers a burst of heart particles.", zh: "ÂÆ†Áâ©‰∫íÂä®Áé∞Âú®‰ºöËß¶ÂèëÁà±ÂøÉÁ≤íÂ≠êÁàÜÂèë„ÄÇ" } ]},
                { version: "v7.3", date: "HYPERSPACE", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Added a 'Hyperspace' jump animation on page load.", zh: "Âä†ÂÖ•‰∫Ü„ÄåË∂ÖÁ©∫Èó¥Ë∑≥Ë∑É„ÄçÂä†ËΩΩÂä®Áîª„ÄÇ" } ]},
                { version: "v7.2.1", date: "FONT-MATRIX", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Added a font toggle.", zh: "Â¢ûÂä†‰∫ÜÂ≠ó‰ΩìÂàáÊç¢Âô®„ÄÇ" } ]},
                { version: "v7.2", date: "LEGACY-ARCHIVE", items: [ { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Restored complete changelog history.", zh: "ÊÅ¢Â§ç‰∫ÜÂÆåÊï¥ÁöÑÊõ¥Êñ∞Êó•Âøó„ÄÇ" } ]},
                { version: "v7.1", date: "AETHER-PAINTER", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Introduced the 'Aether Painter' autonomous bunny.", zh: "ÂºïÂÖ•‰∫Ü„Äå‰ª•Â§™ÁîªÂÆ∂„ÄçËá™‰∏ªÂÖîÂ≠ê„ÄÇ" } ]},
                { version: "v7.0", date: "PHOTON-CORE", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Introduced the 'Photon Pixel Bunny' cursor.", zh: "ÂºïÂÖ•‰∫Ü„ÄåÂÖâÂ≠êÂÉèÁ¥†ÂÖî„ÄçÊ∏∏Ê®ô„ÄÇ" } ]},
                { version: "v6.4", date: "INTERACTIVE-GRID", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Added interactive chart data points.", zh: "‰∏∫ÂõæË°®Â¢ûÂä†‰∫Ü‰∫íÂä®Êï∞ÊçÆÁÇπ„ÄÇ" } ]},
                { version: "v6.3", date: "PIXEL-CORE", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Applied a global pixel font.", zh: "Â∫îÁî®‰∫ÜÂÖ®Â±ÄÂÉèÁ¥†Â≠ó‰Ωì„ÄÇ" } ]},
                { version: "v6.2", date: "LOGIC-REFINED", items: [ { type: "‚ôªÔ∏è ÈáçÊßã (Refactor)", en: "Refactored data loading logic.", zh: "ÈáçÊûÑ‰∫ÜÊï∞ÊçÆÂä†ËΩΩÈÄªËæë„ÄÇ" } ]},
                { version: "v6.1", date: "STABLE", items: [ { type: "üêõ ‰øÆÂæ© (Fix)", en: "Patched a theme engine issue.", zh: "‰øÆÂ§ç‰∫Ü‰∏ªÈ¢òÂºïÊìéÈóÆÈ¢ò„ÄÇ" } ]},
                { version: "v6.0", date: "STARFLEET-COMMAND", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Migrated UI to LCARS standard.", zh: "Â∞ÜUIËøÅÁßªËá≥LCARSÊ†áÂáÜ„ÄÇ" } ]},
                { version: "v5.0", date: "NEBULA-GRID", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Added performance panel and roaming mascot.", zh: "Êñ∞Â¢û‰∫ÜÊÄßËÉΩÈù¢ÊùøÂíåÊº´Ê∏∏ÂÆ†Áâ©„ÄÇ" } ]},
                { version: "v4.0", date: "TRON Grid", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Re-engineered UI with TRON aesthetic.", zh: "‰ª•TRONÁæéÂ≠¶ÈáçÊûÑUI„ÄÇ" } ]},
                { version: "v3.0", date: "Modern Fusion", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Introduced theme engine and changelog.", zh: "ÂºïÂÖ•‰∏ªÈ¢òÂºïÊìéÂíåÊõ¥Êñ∞Êó•Âøó„ÄÇ" } ]},
                { version: "v2.0", date: "Pixel Upgrade", items: [ { type: "‚ú® ÂÑ™Âåñ (Improved)", en: "Switched to pixel font and added record archive.", zh: "Êõ¥Êç¢‰∏∫ÂÉèÁ¥†Â≠ó‰ΩìÂπ∂Ê∑ªÂä†Ê°£Ê°àËÆ∞ÂΩï„ÄÇ" } ]},
                { version: "v1.0", date: "Initial Commit", items: [ { type: "üöÄ Êñ∞ÂäüËÉΩ (New)", en: "Project initialized with timers and chart.", zh: "È°πÁõÆÂàùÂßãÂåñÔºåÂÆûÁé∞ËÆ°Êó∂Âô®ÂíåÂõæË°®„ÄÇ" } ]},
            ];
            const contentEl = document.getElementById('changelog-content');
            contentEl.innerHTML = changelogData.map(log => `<div class="mb-6"><p class="text-xl font-bold accent-text">${log.version} <span class="text-sm font-normal text-gray-400">- ${log.date}</span></p><ul class="mt-3 space-y-2 list-disc list-inside">${log.items.map(item => `<li><p class="inline font-bold">${item.type}</p><p class="text-gray-300 mt-1">${item.zh}</p><p class="text-xs text-gray-500">${item.en}</p></li>`).join('')}</ul></div>`).join('');
        }
    </script>
</body>
</html>
